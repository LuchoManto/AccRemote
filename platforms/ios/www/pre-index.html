<!DOCTYPE html>
<html>

<head>

    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <script src="Easy-Timezone-Picker-with-jQuery-Moment-js-Timezones/dist/timezones.full.js"></script>

    <meta charset="utf-8" />
    <meta name="viewport"
        content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />

    <title>AccRemote</title>
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline' gap: ws: https://ssl.gstatic.com;style-src 'self' 'unsafe-inline' data: blob:;media-src *;img-src 'self' data: content:;script-src * 'unsafe-inline' 'unsafe-eval' data: blob:;"> -->
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline' gap:; style-src 'self' 'unsafe-inline'; media-src *" /> -->
    <meta http-equiv="Content-Security-Policy"
        content="default-src * 'unsafe-inline' 'unsafe-eval' 'self' gap: data:;" />


</head>

<body>
    <div class="container" data-role="page" id="connection page">
        <button id="beginScan">Scan</button>
        <div id="scan results">
            <fieldset id="scanned devices" data-role="controlgroup">
                <legend>Scanned Devices</legend>
            </fieldset>

        </div>
        <button onclick="location.href='index.html#controlpage'">Go to Control page</button>
    </div> <!-- connection page -->
    <div data-role="page" id="actionpage">
        <div data-role="main" class="ui content">
            <h4>Led Status</h4>
            <button id="ledOn">ON</button><button id="ledOff">OFF</button>
            <label for="sendText">Write message: </label>
            <input type="text" id="textToSend" />
            <button id="sendText">Send</button>

            <!-- <input type="text" /> -->

        </div>
    </div> <!-- Action Page -->

    <div class="container" data-role="page" id="controlpage" data-theme="b">
        <div data-role="header" id="header"></div>

        <div data-role="header" id="name">
            <h1>Acc Sauna</h1>
        </div>

        <div data-role="collapsibleset">

            <div data-role="collapsible" data-collapsed="false">
                <h1 id="maindisplay">Sauna Display</h1>

                <div id="canvas">
                    %% loadpage svg/frame_sauna.svg

                </div>
                <p id="screen" style="display:none;"></p>
                <p id="url" style="display:none;"><%= url_for('wsbrowser')->to_abs %></p>
                <p id="mac" style="display:none;"><%= $macaddress %></p>
                <p style="display:none;">Remote IP: <%= $remote_ip %> </p>
                <p style="display:none;" id="stsi">stsI: N/A</p>
                <p style="display:none;" id="stsr">stsR: N/A</p>
                <p style="display:none;" id="pressedkey">N/A</p>
            </div> <!-- collapsible    -->
            <div data-role="collapsible">
                <h1>Set Sauna Temperature</h1>
                <form method="post" data-ajax="false">
                    <div class="ui-field-contain" style="text-align: left;">

                        <label for="flip-scale"></label>
                        <select name="flip-scale" id="flip-scale" data-role="slider" data-mini="true" value="0">
                            <option value="0">°F</option>
                            <option value="1">°C</option>
                        </select>

                    </div>
                    <div class="ui-field-contain">

                        <label id="slider-label" for="slider-1"></label>
                        <input type="range" name="void" id="slider-1" min="50" max="160" step="1" value="50">
                        <input type="hidden" name="temp" id="slider-F" value="50">
                        <!-- TODO: Value should be taken from accspadb-->
                    </div>
                    <div data-role="controlgroup" data-type="horizontal">
                        <input type="submit" data-inline="true" value="Submit" id="submitTemp">
                        <a href="#" id="canceltemp" data-role="button">Cancel</a>
                    </div>
                </form>
            </div> <!-- collapsible Program Sauna Temperature    -->
            <div data-role="collapsible">
                <h1>Set Session Time</h1>
                <form method="post" data-ajax="false" action="<%= url_for('saunasetsession')->to_abs %>">

                    <div class="ui-field-contain">
                        <label id="slider-label" for="slider-2"></label>
                        <input type="range" name="void" id="slider-2" min="10" max="90" step="1" value="30">
                        <input type="hidden" name="tsession" id="slider-T" value="30">
                    </div>
                    <div data-role="controlgroup" data-type="horizontal">
                        <input type="submit" data-inline="true" value="Submit" id="submitTsession">
                        <a href="#" id="cancelsestime" data-role="button">Cancel</a>
                    </div>
                </form>
            </div> <!-- collapsible Program Sauna Set Time    -->
            <div data-role="collapsible">
                <h1>Set Timezone</h1>
                <form method="post" data-ajax="false" action="<%= url_for('spasettz')->to_abs %>">
                    <div class="ui-field-contain">
                        <label for="tz">Select Time Zone</label>
                        <!-- <input name="tz" id="tz">
                    </input> -->
                        <select name="tz" id="tz" class="form-control">
                        </select>

                    </div>
                    <div data-role="controlgroup" data-type="horizontal">
                        <input type="submit" data-inline="true" value="Submit" id="submitTzone">
                        <a href="#" id="canceltz" data-role="button">Cancel</a>
                    </div>
                </form>
            </div> <!-- collapsible Program Sauna Timezone    -->

        </div> <!-- collapsibleset    -->

        <div id="sends">
        </div>

        <div id="footer" data-role="footer">
            <h1>MLTech</h1>
        </div>
    </div> <!-- Sauna Page -->



    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
    <script type="text/javascript" src="js/buttonhandler.js"></script>
    <script type="text/javascript" charset="utf-8">
        app.initialize();
    </script>
</body>

</html>